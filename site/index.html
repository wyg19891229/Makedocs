



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Test</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.572ca0f0.css">
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#nginx-web-server" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Test" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Test
              </span>
              <span class="md-header-nav__topic">
                Home
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="Test" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Test
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nginx-web-server" title="NGINX Web Server" class="md-nav__link">
    NGINX Web Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings-and-configuration" title="Settings and Configuration" class="md-nav__link">
    Settings and Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-nginx-config-file" title="Sample NGINX Config File" class="md-nav__link">
    Sample NGINX Config File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-defaultconf-file" title="Sample ‘default.conf’ File" class="md-nav__link">
    Sample ‘default.conf’ File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="Update Procedure/" title="Change Log" class="md-nav__link">
      Change Log
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nginx-web-server" title="NGINX Web Server" class="md-nav__link">
    NGINX Web Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings-and-configuration" title="Settings and Configuration" class="md-nav__link">
    Settings and Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-nginx-config-file" title="Sample NGINX Config File" class="md-nav__link">
    Sample NGINX Config File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-defaultconf-file" title="Sample ‘default.conf’ File" class="md-nav__link">
    Sample ‘default.conf’ File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Home</h1>
                
                <h2 id="nginx-web-server">NGINX Web Server</h2>
<p>NGINX is a standard HTTP/SMTP server that also functions as a reverse proxy, and a generic TCP/UDP proxy server. The reverse proxy functionality is used to pipe external client-requests through a firewall (in a private network) and on to the appropriate backend server. This provides an additional level of abstraction, plus improved security and control, ensuring the secure flow of network traffic between clients/servers.</p>
<h3 id="settings-and-configuration"><strong>Settings and Configuration</strong></h3>
<p>You may modify the highlighted fields in the following configuration files, if necessary.</p>
<ul>
<li>
<p>The first config file <strong>\&lt;nginx.conf></strong> allows you to customize certain <strong>performance</strong> aspects of the BioConnect ID solution.</p>
</li>
<li>
<p>The second config file <strong>\&lt;default.conf></strong> allows you to configure <strong>security</strong> related settings, including location of SSL certificates, and proxy routing rules.</p>
</li>
</ul>
<h4 id="sample-nginx-config-file">Sample NGINX Config File</h4>
<blockquote>
<p><strong>\&lt;/etc/nginx/nginx.conf></strong></p>
</blockquote>
<pre><code>user            nginx;
worker_processes    8;
error_log       /var/log/nginx/error.log warn;
pid         /var/run/nginx.pid;

events {
    worker_connections 1024;
}

http {
    include /etc/nginx/mime.types;
    default_type    application/octet-stream;

    log_format main '\$remote_addr - \$remote_user [\$time_local] &quot;\$request&quot; '
            '\$status \$body_bytes_sent &quot;\$http_referer&quot; '
            '&quot;\$http_user_agent&quot; &quot;\$http_x_forwarded_for&quot;';

    client_body_buffer_size     10K;
    client_header_buffer_size   1k;
    client_max_body_size        8m;
    large_client_header_buffers 2   1k;
    access_log  /var/log/nginx/access.log main;
    sendfile        on;
    tcp_nopush      on;
    keepalive_timeout   65;
    gzip            on;
    include     /etc/nginx/conf.d/\*.conf;
}
</code></pre>

<table>
<thead>
<tr>
<th>VARIABLE</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>worker_processes</strong></td>
<td>The number of concurrent <code>{worker_processes}</code> the server can run simultaneously.   <strong>Tip</strong>: The number of worker processes should match how many CPU cores the server has at its disposal. <strong>Default value: <code>{8;}</code></strong></td>
</tr>
<tr>
<td><strong>error_log</strong></td>
<td>2-part value determines the Error Log’s directory location and log type. Available types include, <code>&lt;warn&gt;</code>, <code>&lt;error&gt;</code>, <code>&lt;crit&gt;</code>, <code>&lt;alert&gt;</code>, &amp; <code>&lt;emerg&gt;</code>. <strong>Default value(s): <code>{/var/log/nginx/error.log warn;}</code></strong></td>
</tr>
<tr>
<td><strong>pid</strong></td>
<td>Configures the directory location of the NGINX system process. <strong>Default value: <code>{/var/run/nginx.pid;}</code></strong></td>
</tr>
<tr>
<td><strong>worker_connections</strong></td>
<td>The maximum number of concurrent connections per worker. <strong>Default value: <code>{1024;}</code></strong></td>
</tr>
<tr>
<td><strong>log_format</strong></td>
<td>2-part value determines the log type and the format used when outputting the log to a file, and the format directory location of the log. The log format used when outputting the log data to a file. <strong>Default value: <code>{main '\$remote_addr - \$remote_user [\$time_local] "\$request" ' '\$status \$body_bytes_sent "\$http_referer" ' ' "\$http_user_agent" "\$http_x_forwarded_for" ';}</code></strong></td>
</tr>
<tr>
<td><strong>access_log</strong></td>
<td>2-part value determines the directory location for the stored logs, and the log type being used. <strong>Default value:<code>{/var/log/nginx/access.log main;}</code></strong></td>
</tr>
<tr>
<td><strong>sendfile</strong></td>
<td>Once enabled, <code>{sendfile}</code> allows NGINX to send static files extremely fast with low latency (transferring data from file-descriptor to file-descriptor, directly in kernel space).   <strong>Note</strong>: Should be used in combination with <code>{tcp_nopush}</code>. <strong>Default value: <code>{on;}</code></strong></td>
</tr>
<tr>
<td><strong>tcp_nodelay</strong></td>
<td>Once enabled, <code>{tcp_nodelay}</code> forces network sockets to send the data in their buffer, no matter what the packet size is. To avoid network congestion, <code>{tcp_nodelay}</code> waits up to 0.2 sec so the packets won’t be too small.   <strong>Note</strong>: Can be used in combination with <code>{sendfile}</code> and <code>{tcp_nopush}</code> to accelerate network traffic further. <strong>Default value: <code>{on;}</code></strong></td>
</tr>
<tr>
<td><strong>tcp_nopush</strong></td>
<td>Once enabled, <code>{tcp_nopush}</code> blocks data until the packet-size is equal to the MTU, minus the 40-60 bytes for the IP header.   <strong>Note</strong>: <code>{tcp_nopush}</code> must be activated with <code>{sendfile}</code>.  <strong>Default value: <code>{on;}</code></strong></td>
</tr>
<tr>
<td><strong>keepalive_timeout</strong></td>
<td>The <code>{keepalive_timeout}</code> setting forces sockets to stay open for a set amount of time after sending data. This enables establishing new connections without the need for a TCP 3-Way Handshake on every connection. <strong>Note</strong>: Should be used in combination with <code>{tcp_nodelay}</code>. <strong>Default value: <code>{65;}</code></strong></td>
</tr>
<tr>
<td><strong>gzip</strong></td>
<td>Enables data compression when generating system log files. <strong>Default value: <code>{on;}</code></strong></td>
</tr>
<tr>
<td><strong>include</strong></td>
<td>Specifies additional site configuration files located in the <strong>\&lt;conf.d></strong> folder. <strong>Default value: <code>{/etc/nginx/conf.d/\*.conf;}</code></strong></td>
</tr>
</tbody>
</table>
<h4 id="sample-defaultconf-file">Sample ‘default.conf’ File</h4>
<blockquote>
<p><strong>\&lt;/etc/nginx/conf.d/default.conf></strong></p>
</blockquote>
<pre><code>upstream bcid {
server              127.0.0.1:4434;
}
server {
listen              443 ssl;
server_name             internal.bioconnectid.com;
ssl_certificate         /etc/nginx/ssl/bmo_bundle_certificate.crt;
ssl_certificate_key         /etc/nginx/ssl/bmo_certificate_key.key;
ssl_protocols           TLSv1.2;
ssl_ciphers         ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256;
root                /var/www/html;
location /v2 {
   proxy_pass           https://bcid;
   proxy_set_header         Host \$host;
   proxy_set_header         X-Forwarded-For \$proxy_add_x_forwarded_for;
   proxy_ssl_server_name    on;
}
location \~\* \^/assets/ {
   expires          1y;
   add_header           Cache-Control public;
   add_header           Last-Modified &quot;&quot;;
   add_header           ETag &quot;&quot;;
   break;
   }
}
</code></pre>

<table>
<thead>
<tr>
<th>VARIABLE</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>server</strong></td>
<td>The IP address and Port that your Puma application server is using. <strong>Default value: <code>{127.0.0.1:4434;}</code></strong></td>
</tr>
<tr>
<td><strong>listen</strong></td>
<td>The port the server should be listening on (most commonly either port 443 (HTTPS), or port 80 (HTTP). <strong>Default value: <code>{443 ssl;}</code></strong></td>
</tr>
<tr>
<td><strong>server_name</strong></td>
<td>The publicly accessible hostname of the BCID cloud solution. <strong>IMPORTANT</strong>: This must be replaced with your server’s actual Hostname or IP address. <strong>Default value: <code>{internal.bioconnectid.com;}</code></strong></td>
</tr>
<tr>
<td><strong>ssl_certificate</strong></td>
<td>The path and filename of the SSL Encryption Certificate for NGINX. <strong>Default value: <code>{/etc/nginx/ssl/ssl_cert.crt;}</code></strong></td>
</tr>
<tr>
<td><strong>ssl_certificate_key</strong></td>
<td>The path and filename of the SSL Certificate Key. <strong>Default value: <code>{/etc/nginx/ssl/ssl_cert_key.key;}</code></strong></td>
</tr>
<tr>
<td><strong>ssl_protocols</strong></td>
<td>The SSL encryption protocols explicitly used by the server. <strong>Default value: <code>{TLSv1.2;}</code></strong></td>
</tr>
<tr>
<td><strong>ssl_ciphers</strong></td>
<td>The allowed cipher encryption keys used by the server. <strong>Default value: <code>{ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256;}</code></strong></td>
</tr>
<tr>
<td><strong>root</strong></td>
<td>The path to the “Administration Console” files. <strong>Default value: <code>{/var/www/html;}</code></strong></td>
</tr>
<tr>
<td><strong>proxy_pass</strong></td>
<td>Sets the address of the proxied server (as “http” or “https”). The address can be specified as a domain name or IP address, and an optional port. E.g., <code>{http://localhost:8000/uri;}</code>. <strong>Default value: <code>{https://bcid;}</code></strong></td>
</tr>
<tr>
<td><strong>proxy_set_header</strong></td>
<td><strong>Default value (Host): <code>{\$host;}</code></strong></td>
</tr>
<tr>
<td></td>
<td><strong>Default value (X-Forwarded-For): <code>{\$proxy_add_x_forwarded_for;}</code></strong></td>
</tr>
<tr>
<td><strong>proxy_ssl_server_name</strong></td>
<td><strong>Default value: <code>{on;}</code></strong></td>
</tr>
<tr>
<td><strong>expires</strong></td>
<td>This specifies the expiration time for server cache. We have set it to a 1-year maximum, as per “RFC2616”. <strong>Default value: <code>{1y;}</code></strong></td>
</tr>
<tr>
<td><strong>add_header</strong></td>
<td><strong>Default value (Cache-Control): <code>{public;}</code></strong></td>
</tr>
<tr>
<td></td>
<td><strong>Default value (Last-Modified): <code>{“”;}</code></strong></td>
</tr>
<tr>
<td></td>
<td><strong>Default value (Etag): <code>{“”;}</code></strong></td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="Update Procedure/" title="Change Log" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Change Log
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
    
      
    
  </body>
</html>